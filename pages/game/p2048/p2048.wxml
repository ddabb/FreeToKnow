<navBar background='#299DFF' wx:if="{{showArea}}" color='#fff' title='2048小游戏' back="{{true}}" wx:if="{{showArea}}" home="{{true}}" bindback="handlerGobackClick" bindhome="handlerGohomeClick" />
<view class='container'>
  <!-- loading -->
  <loading hidden="{{hidden}}">
    加载中...
  </loading>

  <view class='head' wx:if="{{showArea}}">
    <view class='lside'>
      <text class='title'>2048</text>
      <text class='play' bindtap='gameStart'>{{start}}</text>
    </view>
    <view class='rside'>
      <text>score <text class='score'>{{score}}</text></text>
    </view>
  </view>
  <!-- https://www.jb51.net/article/149632.htm 
  https://blog.csdn.net/jiaodamanong/article/details/109751829
  参考补充动画效果 -->
  <view class="game" style="position: absolute; left: 27rpx; top: {{showArea?320:0}}rpx ">
    <!-- 矩阵 -->
    <view bindtouchstart="touchStart" bindtouchmove="touchMove" bindtouchend="touchEnd">
      <view class='row' wx:for="{{num}}" wx:for-item="row" wx:key="row.key">
        <view class='cell' wx:for="{{row}}" wx:for-item="cell" wx:key="cell.key">
          <view class='cell-con cell-con-{{cell}}'>
            {{cell}}
          </view>
        </view>
      </view>
    </view>
    <!-- game over -->
    <view style="text-align:center;"><text class='nowScore'>历史最高分：{{bestScore}}</text> </view>
    <view style="text-align:center;"> <text class='pro'>{{endMsg}}</text></view>
    <view style="text-align:center;"> <text class='nowScore' bindtap='gameRank'>排行榜</text></view>
  </view>
</view>